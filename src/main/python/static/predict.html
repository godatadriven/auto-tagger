<!doctype html>
<html lang="en" ng-app="classifier">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Classifier - Free Text</title>
  <link rel="stylesheet" href="css/app.css">
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/angular/angular.min.js"></script>
  <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="bower_components/angular-strap/dist/angular-strap.min.js"></script>
  <script src="bower_components/angular-sanitize/angular-sanitize.min.js"></script>
  <script src="js/classifierController.js"></script>
</head>
<body ng-controller="ClassifierCtrl" ng-init="init()">
  <!-- <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
  // <script type="text/javascript" src="js/bootstrap.min.js"></script> -->

  <div class="container">
    <div class="row">
      <form class="form-horizontal well" role="form">
        <div class="form-group">
          <label for="textInputField" class="col-lg-1 control-label">Text</label>
          <div class="col-lg-11">
            <textarea id="textInputField" rows="4" class="form-control" placeholder="Enter text..." ng-model="predict.query"></textarea>
          </div>
        </div>
        <div class="form-group">
          <div class="col-lg-offset-1 col-lg-2">
            <button type="submit" class="btn btn-primary" ng-click="predict()" bs-button>Predict</button>
          </div>
        </div>
      </form>
    </div>
    <div class="row" ng-show="show_predictions()">
      <div class="well">
        <label class="control-label">Prediction:</label>
        <ul class="list-unstyled">
          <li ng-repeat="(label, prediction) in predictions">
            <ul class="list-unstyled">
              <li ng-repeat="(label, values) in prediction">
                <div class="row col-lg-12 explain-category">
                  <span class="col-lg-2">{{label}}, {{values.norm_score}}</span><button class="btn btn-primary btn-xs btn-explain-category col-lg-2" ng-click="explain_category(label)" bs-button>Explain Category</button>
                </div>
              </li>
            </ul>
          </li>
        </ul>
        based on <a href ng-click="explain()">{{prediction_n_docs}} documents</a>
      </div>
    </div>
    <div class="row well">
      <p dynamic="predict.highlighted_query"></p>
      <div class="col-lg-12">
        <ul class="list-unstyled">
          <li ng-repeat="doc in docs">{{doc.score}} - {{doc.label}}<button class="btn btn-primary btn-xs detail_button" ng-click="zoom(doc)" bs-button>&gt;&gt;</button></li>
        </ul>
      </div>
      <div class="alert alert-info alert-dismissable" id="doc_details">
        <button type="button" class="close" ng-click="close_details()">&times;</button>
        <p><span class="detail_label">Title:</span>{{zoomed_doc.title}}</p>
        <p><span class="detail_label">Score:</span>{{zoomed_doc.score}}</p>
        <p><span class="detail_label">Body:</span>{{zoomed_doc.body}}</p>
        <p><span class="detail_label">Tags:</span>{{zoomed_doc.tags}}</p>
      </div>
    </div>
  </div>
    
</body>
</html>